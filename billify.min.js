"use strict";var billify=function(){this._barcode=null,this._currency="toman",this._lang="en",this._EnToFa=!1,this._billTypes={en:{1:"water",2:"power",3:"gas",4:"telphone",5:"mobile",6:"municipality"},fa:{1:"آب",2:"برق",3:"گاز",4:"تلفن",5:"تلفن همراه",6:"شهرداری"}},arguments[0]&&arguments[1]&&(this.setId(arguments[0]),this.setPeymentId(arguments[1]))};billify.prototype.version="1.2.3",billify.prototype.setConfig=function(i){var i=i||{};this._currency="rial"==i.currency.toLocaleLowerCase()?"rial":"toman",this._lang="fa"==i.lang.toLocaleLowerCase()?"fa":"en",this._EnToFa=1==i.EnToFa?!0:!1},billify.prototype.setId=function(i){var i=i||null;this._billId=i},billify.prototype.setPeymentId=function(i){var i=i||null;this._billPayment=i},billify.prototype.setPeymentId=function(i){var i=i||null;this._billPayment=i},billify.prototype.setBarcode=function(i){var i=i||null;this._barcode=i},billify.prototype.getBillAmount=function(){var i="rial"==this._currency?1e3:100,t=parseInt(this._billPayment.toString().slice(0,-5))*i;return(1==this._EnToFa?this._digitsEn2Fa(t):t)||"undefined"},billify.prototype.getBillType=function(){var i="fa"==this._lang?this._billTypes.fa:this._billTypes.en;return i[this._billId.toString().slice(-2,-1)]||"undefined"},billify.prototype.getBarcode=function(){var i=13,t="0",e=this._billPayment.toString(),n=e;return e.length<i&&(n=t.repeat(i-e.length)+e),this._billId+""+n||"undefined"},billify.prototype.findByBarcode=function(){null!=this._barcode&&(this._billId=this._barcode.substr(0,13),this._billPayment=parseInt(this._barcode.split(this._billId)[1]))},billify.prototype.verificationBillPayment=function(){return this._verification(this._billPayment.toString().slice(0,-2),this._billPayment.toString().substr(-2,1))},billify.prototype.verificationBillId=function(){return this._verification(this._billId.toString().slice(0,-1),this._billId.toString().slice(-1))},billify.prototype.verificationBill=function(){return 1==this.verificationBillPayment()&&1==this.verificationBillId()?!0:!1},billify.prototype._verification=function(i,t){var e=0,n=0,i=i||null,t=t||null,l=i.split("").reverse().join("").split("");l.forEach(function(i,t){e+=(2+t%6)*parseInt(i)});var o=e%11;return n=2>o?0:11-o,n==parseInt(t)?!0:!1},billify.prototype._digitsEn2Fa=function(i){return i.toString().replace(/\d/g,function(i){return String.fromCharCode(i.charCodeAt(0)+1728)})},billify.prototype.getData=function(){return{amount:1==this._EnToFa?this._digitsEn2Fa(this.getBillAmount()):this.getBillAmount(),type:this.getBillType(),barcode:1==this._EnToFa?this._digitsEn2Fa(this.getBarcode()):this.getBarcode(),validationBill:this.verificationBill(),verificationBillId:this.verificationBillId(),verificationBillPayment:this.verificationBillPayment(),configs:{currency:this._currency,lang:this._lang,EnToFa:this._EnToFa}}},"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=billify:"function"==typeof define&&define.amd&&define(billify);